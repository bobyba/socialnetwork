{"version":3,"sources":["hoc/WithAuthRedirect.js","components/Profile/ProfileInfo/profileinfo.module.css","components/Profile/content.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","validators/validators.js","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/ProfileInfo/profileinfostatus.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","components/Profile/ProfileInfo/profileinfostatuswithHooks.jsx","components/Profile/ProfileInfo/profileinfo.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/content.jsx","components/Profile/contentcontainer.jsx"],"names":["mapStateToPropsForRedirect","state","isAuth","auth","withAuthRedirect","Component","RedirectComponent","this","props","to","React","connect","module","exports","maxLength","Post","className","s","item","src","message","AddNewPostFormRedux","reduxForm","form","onSubmit","onHandleSubmit","Field","component","name","MyPosts","console","log","postsElements","arrPosts","map","p","postsBlock","values","addPostActionCreator","NewPostBody","posts","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","undefined","_s","_i","next","done","push","value","length","err","unsupportedIterableToArray","TypeError","ProfileStatusWithHooks","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","onChange","e","currentTarget","autoFocus","onBlur","updateStatus","ProfileInfo","profile","content","descriptionBlock","photos","large","update","MyPostsContainer","postPage","newPostText","Profile","ProfileContainer","userId","match","params","getUserProfileThunk","getStatusThunk","updateStatusThunk","compose","withRouter"],"mappings":"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","file":"static/js/3.7a38bf53.chunk.js","sourcesContent":["import React from \"react\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport {connect} from \"react-redux\";\r\n\r\nlet mapStateToPropsForRedirect = (state) => {\r\n  return {\r\n    isAuth: state.auth.isAuth,\r\n  };\r\n};\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n\r\n  class RedirectComponent extends React.Component {\r\n    render() {\r\n      if (!this.props.isAuth) return <Redirect to=\"login/\" />;\r\n      return <Component {...this.props} />;\r\n    }\r\n  }\r\n\r\n  let ConnectedAuthRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n  return ConnectedAuthRedirectComponent;\r\n};\r\n\r\n\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"profileinfo_content__109OM\",\"descriptionBlock\":\"profileinfo_descriptionBlock__14yHr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"content_content__1idtu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"content\":\"MyPosts_content__3reYz\",\"postsBlock\":\"MyPosts_postsBlock__4eDPQ\",\"posts\":\"MyPosts_posts__38GZw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__rRPvn\"};","export const requiredField = (value) => {\r\n  if (value) return undefined;\r\n\r\n  return \"Field is required\";\r\n};\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value && maxLength) return `Max length is 30 symbols`;\r\n  return undefined;\r\n}; // создаёт функцию из входящих данных и передаёт назад\r\n","import React, { Component } from 'react'\r\nimport s from './Post.module.css'\r\n\r\n\r\nconst Post = (props) => {\r\n    \r\n        return (\r\n            \r\n                  <div className={s.item}>\r\n                    <img  src='https://upload.wikimedia.org/wikipedia/commons/f/f5/Pic-vk-allaboutme-ava-2.jpg' />\r\n                    {props.message}\r\n                    <div>\r\n                    <span>LIKE</span>\r\n                    </div>\r\n                  </div>\r\n                  \r\n        )\r\n    \r\n}\r\n\r\nexport default Post\r\n","import React from \"react\";\r\nimport s from \"./MyPosts.module.css\";\r\nimport Post from \"./Post/Post\";\r\nimport { Field, reduxForm } from \"redux-form\";\r\nimport {\r\n  requiredField,\r\n  maxLengthCreator,\r\n} from \"../../../validators/validators\";\r\n\r\nlet maxLength10 = maxLengthCreator(10);\r\n\r\nconst AddNewPostForm = (props) => {\r\n  return (\r\n    <form onSubmit={props.onHandleSubmit}>\r\n      <div>\r\n        <Field component={\"textarea\"} name={\"NewPostBody\"} />\r\n      </div>\r\n      <button>Add post</button>\r\n    </form>\r\n  );\r\n};\r\n\r\n\r\n\r\nconst AddNewPostFormRedux = reduxForm({ form: \"ProfileAddNewPost\" })(\r\n  AddNewPostForm\r\n);\r\n\r\nconst MyPosts = (props) => {\r\n  console.log('Render')\r\n  let postsElements = props.arrPosts.map((p) => <Post message={p.message} />);\r\n\r\n  let onAddPost = (values) => {\r\n    debugger;\r\n    props.addPostActionCreator(values.NewPostBody);\r\n  };\r\n\r\n  return (\r\n    <div className={s.postsBlock}>\r\n      <div>\r\n        <h3>My posts</h3>\r\n      </div>\r\n      <AddNewPostFormRedux onSubmit={onAddPost} />\r\n      <div>\r\n        <div className={s.posts}>{postsElements}</div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MyPosts;\r\n","import React, { Component } from \"react\";\r\nimport s from \"./profileinfo.module.css\";\r\nimport Loader from \"../../Dialogs/Loader/loader\";\r\n\r\nclass ProfileStatus extends React.Component {\r\n  state = {\r\n    editMode: false,\r\n    status: this.props.status,\r\n  };\r\n\r\n  activateEditMode = () => {\r\n    this.setState({ editMode: true }); // setState асинхронен!!!!\r\n    // this.forceupdate - обновляет компоненту по вызову стрелочной функции\r\n  }; // если не надо бандить, то писать через стрелочную функцию ... или бандить при методе в компоненте\r\n\r\n  deactivateEditMode = () => {\r\n    this.setState({ editMode: false }); // setState асинхронен!!!!\r\n    // this.forceupdate - обновляет компоненту по вызову стрелочной функции\r\n    this.props.updateStatus(this.state.status);\r\n  };\r\n\r\n  onStatusChange = (e) => {\r\n    let text = e.currentTarget.value;\r\n    this.setState({ status: text });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        {!this.state.editMode && (\r\n          <div>\r\n            <span onDoubleClick={this.activateEditMode}>\r\n              {this.props.status || \"No Status\"}\r\n            </span>\r\n          </div>\r\n        )}\r\n        {this.state.editMode && (\r\n          <div>\r\n            <input\r\n              onChange={(e) => this.onStatusChange(e)}\r\n              autoFocus={true}\r\n              onBlur={this.deactivateEditMode}\r\n              value={this.state.status}\r\n            />\r\n          </div>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default ProfileStatus;\r\n","import arrayWithHoles from \"./arrayWithHoles\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableRest from \"./nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import React, { useState } from \"react\";\r\nimport s from \"./profileinfo.module.css\";\r\nimport Loader from \"../../Dialogs/Loader/loader\";\r\nimport { useEffect } from \"react\";\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n  let [editMode, setEditMode] = useState(false); // [a , b] = [20 , 10]  ---- console.log(a)  - 20//// console.log(b) - 10\r\n  let [status, setStatus] = useState(props.status);\r\n\r\n  useEffect(() => {\r\n    setStatus(props.status);\r\n  }, [props.status]);\r\n\r\n  let activateMode = () => {\r\n    setEditMode(true);\r\n  };\r\n\r\n  let deactivateMode = () => {\r\n    setEditMode(false);\r\n    props.updateStatus(status);\r\n  };\r\n\r\n  let setStatusChange = (e) => {\r\n    setStatus(e.currentTarget.value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!editMode && (\r\n        <div>\r\n          <span onDoubleClick={activateMode}>{status || \"No Status\"}</span>\r\n        </div>\r\n      )}\r\n      {editMode && (\r\n        <div>\r\n          <input\r\n            onChange={setStatusChange}\r\n            autoFocus={true}\r\n            onBlur={deactivateMode}\r\n            value={status}\r\n          />\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProfileStatusWithHooks;\r\n","import React, { Component } from \"react\";\r\nimport s from \"./profileinfo.module.css\";\r\nimport Loader from \"../../Dialogs/Loader/loader\";\r\nimport ProfileStatus from \"./profileinfostatus\";\r\nimport ProfileStatusWithHooks from \"./profileinfostatuswithHooks\";\r\n\r\nconst ProfileInfo = (props) => {\r\n  if (!props.profile) {\r\n    return <Loader />;\r\n  }\r\n\r\n  return (\r\n    <div className={s.content}>\r\n      <div>\r\n        <img src=\"https://img1.goodfon.ru/original/2560x1600/8/84/peyzazhi-priroda-trava-holmy.jpg\" />\r\n      </div>\r\n\r\n      <div className={s.descriptionBlock}>\r\n        <img src={props.profile.photos.large} />\r\n        ava + descr\r\n      </div>\r\n      <ProfileStatusWithHooks status={props.status} updateStatus={props.update} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileInfo;\r\n","import React from \"react\";\r\nimport { addPostActionCreator } from \"../../../redux/profile-reducer\";\r\nimport MyPosts from \"./MyPosts\";\r\nimport { connect } from \"react-redux\";\r\nimport { compose } from \"redux\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nlet mapStateToProps = (state) => {\r\n  return {\r\n    arrPosts: state.postPage.arrPosts,\r\n    newPostText: state.postPage.newPostText,\r\n  };\r\n}\r\n\r\nlet MyPostsContainer = connect(mapStateToProps, {addPostActionCreator})(MyPosts);\r\n\r\nexport default MyPostsContainer;\r\n","import React, { Component } from \"react\";\r\nimport s from \"./content.module.css\";\r\nimport MyPosts from \"./MyPosts/MyPosts\";\r\nimport ProfileInfo from \"./ProfileInfo/profileinfo\";\r\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\r\n\r\nconst Profile = (props) => {\r\n  \r\n  return (\r\n    <div className={s.content}>\r\n      <ProfileInfo profile={props.profile} status={props.status} update={props.update}/>\r\n      <MyPostsContainer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React, { Component } from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport Profile from \"./content\";\r\n\r\nimport {\r\n  getUserProfileThunk,\r\n  getStatusThunk,\r\n  updateStatusThunk,\r\n} from \"../../redux/profile-reducer\";\r\nimport { withRouter, Redirect } from \"react-router-dom\";\r\n\r\nimport { withAuthRedirect } from \"../../hoc/WithAuthRedirect\";\r\nimport { compose } from \"redux\";\r\n\r\nclass ProfileContainer extends React.Component {\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId;\r\n    if (!userId) {\r\n      userId = \"8948\";\r\n    }\r\n    \r\n    this.props.getUserProfileThunk(userId);\r\n    this.props.getStatusThunk(userId);\r\n  }\r\n  render() {\r\n    return (\r\n      <Profile\r\n        {...this.props}\r\n        profile={this.props.profile}\r\n        status={this.props.status}\r\n        update={this.props.updateStatusThunk}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\n//let WithURLDataContainerComponent = withRouter(ProfileContainer);\r\n\r\nlet mapStateToProps = (state) => ({\r\n  profile: state.postPage.profile,\r\n  status: state.postPage.status,\r\n});\r\n\r\n//export default compose(connect((mapStateToProps, mapDispatchToProps), withAuthRedirect))(Dialogs)\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    getUserProfileThunk,\r\n    getStatusThunk,\r\n    updateStatusThunk,\r\n  }),\r\n  withAuthRedirect,\r\n  withRouter\r\n)(ProfileContainer);\r\n"],"sourceRoot":""}